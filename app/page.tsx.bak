<div className="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start">
  
  {/* ฝั่งซ้าย: Input + Result Summary (7/12) */}
  <div className="lg:col-span-7 space-y-6">
    
    {/* ส่วนที่ 1 และ 2 คงเดิม ... */}
    <section>... ส่วนที่ 1 ...</section>
    <section>... ส่วนที่ 2 ...</section>

    {/* ส่วนที่ 3: ตั้งค่าราคาวัสดุ */}
    <section className="bg-blue-50 p-6 rounded-2xl border border-blue-100 shadow-inner">
      <h2 className="text-xl font-bold text-blue-900 mb-5 flex items-center">
        <span className="bg-blue-600 text-white w-7 h-7 rounded-lg flex items-center justify-center mr-3 text-sm">3</span>
        ตั้งค่าราคาวัสดุ (บาท)
      </h2>
      <div className="grid grid-cols-2 gap-6 mb-6">
        <div className="space-y-1">
          <input type="number" name="pricePerRoll" value={inputs.pricePerRoll} onChange={handleChange} className="w-full border-blue-200 rounded-xl p-3.5 text-blue-900 font-bold" />
          <p className="text-[10px] text-blue-400 ml-2">* ราคาลวดหนาม/ม้วน</p>
        </div>
        <div className="space-y-1">
          <input type="number" name="pricePerPost" value={inputs.pricePerPost} onChange={handleChange} className="w-full border-blue-200 rounded-xl p-3.5 text-blue-900 font-bold" />
          <p className="text-[10px] text-blue-400 ml-2">* ราคาเสารั้ว/ต้น</p>
        </div>
      </div>

      {/* --- ย้ายสรุปราคามาไว้ตรงนี้ --- */}
      <div className="bg-white p-5 rounded-2xl border-2 border-blue-200 shadow-md flex flex-col md:flex-row justify-between items-center gap-4">
        <div>
          <p className="text-xs text-slate-500 uppercase font-bold tracking-wider">ประมาณการงบประมาณรวม</p>
          <p className="text-4xl font-black text-blue-600">
            <span className="text-2xl mr-1">฿</span>
            {results?.totalBudget.toLocaleString()}
          </p>
        </div>
        <div className="flex gap-4 border-l pl-6 border-slate-200">
          <div className="text-center">
            <p className="text-[10px] text-slate-400">เสาที่ใช้</p>
            <p className="font-bold text-slate-700">{results?.totalPosts} ต้น</p>
          </div>
          <div className="text-center">
            <p className="text-[10px] text-slate-400">ลวดที่ใช้</p>
            <p className="font-bold text-slate-700">{results?.totalRolls} ม้วน</p>
          </div>
        </div>
      </div>
    </section>

    {/* ตารางเปรียบเทียบ (ย้ายมาไว้ฝั่งซ้ายด้วยเพื่อให้ข้อมูลเชิงลึกอยู่ด้วยกัน) */}
    <WireComparison totalRolls={results?.totalRolls} />
  </div>

  {/* ฝั่งขวา: Visualizer + Lead Form (5/12) */}
  <div className="lg:col-span-5">
    <section className="bg-slate-900 text-white p-8 rounded-[2.5rem] shadow-2xl sticky top-8 border-4 border-slate-800">
      <h2 className="text-xl font-bold text-blue-400 mb-6 text-center uppercase">ตัวอย่างการติดตั้งและรับไฟล์</h2>
      
      {/* ภาพจำลองรั้ว - เด่นชัดอยู่ด้านบนของฝั่งขวา */}
      <div className="mb-8">
        <FenceVisualizer width={Number(inputs.width)} length={Number(inputs.length)} />
      </div>

      {/* ส่วนกรอกชื่อเพื่อลงใน PDF */}
      <div className="bg-white/5 p-6 rounded-3xl border border-white/10 space-y-4">
        <h3 className="text-center text-sm font-bold text-slate-300">กรอกข้อมูลเพื่อดาวน์โหลดใบเสนอราคา</h3>
        <div className="space-y-3">
          <input 
            type="text" placeholder="ชื่อลูกค้า" value={leadInfo.name}
            onChange={(e) => setLeadInfo({...leadInfo, name: e.target.value})}
            className="w-full bg-slate-800 border border-slate-700 rounded-xl p-3 text-white focus:ring-1 focus:ring-blue-500 outline-none"
          />
          <input 
            type="tel" placeholder="เบอร์โทรศัพท์ *" value={leadInfo.phone}
            onChange={(e) => setLeadInfo({...leadInfo, phone: e.target.value})}
            className="w-full bg-slate-800 border border-slate-700 rounded-xl p-3 text-white focus:ring-1 focus:ring-blue-500 outline-none"
          />
        </div>

        <button 
          onClick={handleDownloadPDF}
          className="flex items-center justify-center gap-3 w-full bg-blue-600 hover:bg-blue-500 text-white py-4 rounded-xl font-bold transition-all shadow-lg active:scale-95"
        >
          ดาวน์โหลดใบเสนอราคา (PDF)
        </button>
      </div>

      <p className="mt-6 text-center text-xs text-slate-500">
        สนับสนุนโดย PK Group <br/> วัสดุล้อมรั้วคุณภาพสูง ทนทานทุกสภาพอากาศ
      </p>
    </section>
  </div>

</div>